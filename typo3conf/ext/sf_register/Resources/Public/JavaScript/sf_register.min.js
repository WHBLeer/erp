!function t(e,o,r){function n(a,i){if(!o[a]){if(!e[a]){var l="function"==typeof require&&require;if(!i&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=o[a]={exports:{}};e[a][0].call(h.exports,(function(t){return n(e[a][1][t]||t)}),h,h.exports,t,e,o,r)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.verdictLength=function(t){var e=0,o="",r=t.length;switch(!0){case r>0&&r<5:o="3 points for length ("+r+")",e=3;break;case r>4&&r<8:o="6 points for length ("+r+")",e=6;break;case r>7&&r<16:o="12 points for length ("+r+")",e=12;break;case r>15:o="18 points for length ("+r+")",e=18}return{score:e,log:o}},t.prototype.verdictLetter=function(t){var e=0,o="",r=t.match(/[a-z]/),n=t.match(/[A-Z]/);return r?n?(e=7,o="7 points for letters are mixed"):(e=5,o="5 point for at least one lower case char"):n&&(e=5,o="5 points for at least one upper case char"),{score:e,log:o}},t.prototype.verdictNumbers=function(t){var e=0,o="",r=t.replace(/\D/gi,"");return r.length>1?(e=7,o="7 points for at least three numbers"):r.length>0&&(e=5,o="5 points for at least one number"),{score:e,log:o}},t.prototype.verdictSpecialChars=function(t){var e=0,o="",r=t.replace(/[\w\s]/gi,"");return r.length>1?(e=10,o="10 points for at least two special chars"):r.length>0&&(e=5,o="5 points for at least one special char"),{score:e,log:o}},t.prototype.verdictCombos=function(t,e,o){var r=0,n="";return 7===t&&e>0&&o>0?(r=6,n="6 combo points for letters, numbers and special characters"):t>0&&e>0&&o>0?(r=4,n="4 combo points for letters, numbers and special characters"):7===t&&e>0?(r=2,n="2 combo points for mixed case letters and numbers"):t>0&&e>0?(r=1,n="1 combo points for letters and numbers"):7===t&&(r=1,n="1 combo points for mixed case letters"),{score:r,log:n}},t.prototype.finalVerdict=function(t){return t<16?"very weak":t>15&&t<25?"weak":t>24&&t<35?"mediocre":t>34&&t<45?"strong":"stronger"},t.prototype.calculate=function(t){var e=this.verdictLength(t),o=this.verdictLetter(t),r=this.verdictNumbers(t),n=this.verdictSpecialChars(t),s=this.verdictCombos(o.score,r.score,n.score),a=e.score+o.score+r.score+n.score+s.score,i=[e.log,o.log,r.log,n.log,s.log,a+" points final score"].join("\n");return{score:a,verdict:this.finalVerdict(a),log:i}},t}();o.default=r},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("./PasswordStrengthCalculator"),n=window.document,s=function(){function t(){this.loading=!1,this.ajaxRequest=null,this.barGraph=null,this.passwordStrengthCalculator=null,this.zone=null,this.zoneEmpty=null,this.zoneLoading=null,n.addEventListener("DOMContentLoaded",this.contentLoaded.bind(this))}return t.prototype.contentLoaded=function(){this.zone=n.getElementById("sfrZone"),this.zoneEmpty=n.getElementById("sfrZone_empty"),this.zoneLoading=n.getElementById("sfrZone_loading"),this.barGraph=n.getElementById("bargraph"),this.barGraph&&(this.barGraph.classList.add("show"),this.passwordStrengthCalculator=new r.default,this.isInternetExplorer()?this.loadInternetExplorerPolyfill():this.attachToElementById("sfrpassword","keyup",this.callTestPassword.bind(this))),this.attachToElementById("sfrCountry","change",this.countryChanged.bind(this)),this.attachToElementById("sfrCountry","keyup",this.countryChanged.bind(this)),this.attachToElementById("uploadButton","change",this.uploadFile.bind(this)),this.attachToElementById("removeImageButton","click",this.removeFile.bind(this))},t.prototype.showElement=function(t){t.classList.remove("d-none"),t.classList.add("d-block")},t.prototype.hideElement=function(t){t.classList.remove("d-block"),t.classList.add("d-none")},t.prototype.attachToElementById=function(t,e,o){var r=n.getElementById(t);this.attachToElement(r,e,o)},t.prototype.attachToElement=function(t,e,o){t&&t.addEventListener(e,o)},t.prototype.callTestPassword=function(t){var e=t.target,o=this.passwordStrengthCalculator.calculate(e.value);if("meter"===this.barGraph.tagName.toLowerCase())this.barGraph.value=o.score;else for(var r=this.barGraph,n=Math.min(Math.floor(o.score/3.4),10),s=(r.contentDocument||r.contentWindow.document).getElementsByClassName("blind"),a=0;a<s.length;a++){var i=s[a];a<n?this.hideElement(i):this.showElement(i)}},t.prototype.isInternetExplorer=function(){var t=navigator.userAgent;return t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1},t.prototype.loadInternetExplorerPolyfill=function(){var t=this,e=n.getElementsByTagName("body").item(0),o=n.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src","https://unpkg.com/meter-polyfill/dist/meter-polyfill.min.js"),o.onload=function(){meterPolyfill(t.barGraph),t.attachToElementById("sfrpassword","keyup",t.callTestPassword)},e.appendChild(o)},t.prototype.countryChanged=function(t){if(("change"===t.type||"keyup"===t.type&&(40===t.keyCode||38===t.keyCode))&&!0!==this.loading&&this.zone){var e=t.target||t.srcElement,o=e.options[e.selectedIndex].value;this.loading=!0,this.zone.disabled=!0,this.hideElement(this.zoneEmpty),this.showElement(this.zoneLoading),this.ajaxRequest=new XMLHttpRequest,this.ajaxRequest.onload=this.xhrReadyOnLoad.bind(this),this.ajaxRequest.open("POST","index.php?ajax=sf_register"),this.ajaxRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),this.ajaxRequest.send("tx_sfregister[action]=zones&tx_sfregister[parent]="+o)}},t.prototype.xhrReadyOnLoad=function(t){var e=t.target;if(4===e.readyState&&200===e.status){var o=JSON.parse(e.responseText);this.hideElement(this.zoneLoading),"error"===o.status||0===o.data.length?this.showElement(this.zoneEmpty):this.addZoneOptions(o.data)}this.loading=!1},t.prototype.addZoneOptions=function(t){for(var e=this;this.zone.length;)this.zone.removeChild(this.zone[0]);t.forEach((function(t,o){e.zone.options[o]=new Option(t.label,t.value)})),this.zone.disabled=!1},t.prototype.uploadFile=function(){var t=n.getElementById("uploadFile");t&&(t.value=this.value)},t.prototype.removeFile=function(){var t=n.getElementById("removeImage");t&&(t.value="1"),this.submitForm()},t.prototype.submitForm=function(){var t=n.getElementById("sfrForm");t&&t.submit()},t}();o.default=s},{"./PasswordStrengthCalculator":1}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=new(t("./SfRegister").default);window.sfRegister_submitForm=function(){return new Promise((function(t,e){void 0===grecaptcha&&(alert("Recaptcha ist nicht definiert"),e()),document.getElementById("captcha").value=grecaptcha.getResponse(),r.submitForm(),t()}))}},{"./SfRegister":2}]},{},[3]);
//# sourceMappingURL=sf_register.js.map
